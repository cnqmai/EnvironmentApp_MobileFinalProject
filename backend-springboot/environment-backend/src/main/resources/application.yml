server:
  port: 8080
  error:
    include-message: always
  servlet:
    context-path: /

spring:
  datasource:
    url: jdbc:postgresql://localhost:5432/environment_db?stringtype=unspecified
    username: env_app_user
    password: "2112"
  
  servlet:
    multipart:
      max-file-size: 5MB
      max-request-size: 5MB
    driver-class-name: org.postgresql.Driver

  jpa:
    show-sql: true
    hibernate:
      ddl-auto: update
    properties:
      hibernate:
        dialect: org.hibernate.dialect.PostgreSQLDialect

  mail:
    host: smtp.gmail.com
    port: 587
    # --- [QUAN TRỌNG] ĐIỀN EMAIL VÀ MẬT KHẨU ỨNG DỤNG VÀO ĐÂY ---
    username: DIEN_EMAIL_CUA_BAN_VAO_DAY@gmail.com
    password: DIEN_MAT_KHAU_UNG_DUNG_VAO_DAY
    properties:
      mail:
        smtp:
          auth: true
          starttls:
            enable: true
            required: true
        format_sql: true
  
  security:
    oauth2:
      client:
        registration:
          google:
            # --- [QUAN TRỌNG] ĐIỀN GOOGLE CLIENT ID/SECRET ---
            client-id: DIEN_GOOGLE_CLIENT_ID_VAO_DAY
            client-secret: DIEN_GOOGLE_CLIENT_SECRET_VAO_DAY
            scope:
              - email
              - profile

          facebook:
            # --- [QUAN TRỌNG] ĐIỀN FACEBOOK APP ID/SECRET ---
            client-id: DIEN_FACEBOOK_APP_ID_VAO_DAY
            client-secret: DIEN_FACEBOOK_APP_SECRET_VAO_DAY
            scope:
              - email
              - public_profile

# --- CẤU HÌNH TÙY CHỈNH CỦA APP ---

# Cấu hình thư mục upload (Giữ cả 2 để tránh lỗi null ở các Service khác nhau)
file:
  upload:
    dir: uploads
app:
  upload:
    dir: uploads
  
  security:
    google:
      # Danh sách Client ID cho Mobile App (Android/iOS/Expo)
      client-ids: "756858259822-3vc9g8jdee93v1v4vajgo33ghao6rsib.apps.googleusercontent.com,756858259822-mvqtudhds35eq2b4h56qn16uefj615jo.apps.googleusercontent.com,756858259822-f887rof3qh7enulq6dkt5hv7d8r4lorj.apps.googleusercontent.com"
      
      # Client Secret cho Web Client (Dùng lại cái ở trên)
      client-secret: DIEN_GOOGLE_CLIENT_SECRET_VAO_DAY
      
      # Link Callback (Ngrok) - Cần cập nhật mỗi khi chạy lại Ngrok
      redirect-uri: "https://eructative-prodeportation-nikola.ngrok-free.dev/api/auth/callback/google"

facebook:
  api:
    user-info-uri: "https://graph.facebook.com/me?fields=id,name,email,picture.type(large)"

jwt:
  secret:
    key: MjAxNS0xMDExY2h1eWVuZGVtb2JpbGUxMGRpZW0xMjM0NQ== 
  expiration:
    ms: 86400000

aqi:
  api:
    key: 5ad9ae819b67abf939f3e0d4604bd362
    base-url: https://api.openweathermap.org/data/2.5/air_pollution
    geocoding-url: https://api.openweathermap.org/geo/1.0/reverse

# Cấu hình Reset Password
password:
  reset:
    expiration:
      minutes: 15
      
  frontend:
    # Link Deep Link mở App (thay link Tunnel của bạn vào đây nếu thay đổi)
    reset-password-url: "exp://ze8itke-cnqmai-8081.exp.direct/--/reset-password"
    
    # URL Backend nội bộ
    backend-url: "http://192.168.100.190:8080"

logging:
  level:
    root: INFO
    org.springframework.web: DEBUG
    org.springframework.security: DEBUG
    com.enviro.app: DEBUG
# --- Gemini Configuration ---
gemini:
  api-key: "AIzaSyBpX-213nZk7pG8ItH3eedDDXACvBdMevI" 